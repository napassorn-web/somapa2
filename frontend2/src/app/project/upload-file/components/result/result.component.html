<div class="context" [formGroup]="form">
    <div class="row1">
        <div class="first-name">
            <span>First name </span><span class="require">*</span>
            <div class="input">
                <mat-form-field class="input" appearance="outline">
                    <input matInput maxlength="20" formControlName="firstName" />
                </mat-form-field>
                @if (form.get('firstName')?.invalid && (form.get('firstName')?.dirty || form.get('firstName')?.touched) && !form.get('firstName')?.errors?.['pattern']) {
                    <div class="require">
                        <span>This field is require</span>
                    </div> 
                }
                @if (form.get('firstName')?.errors?.['pattern']) {
                    <div class="require">
                         <span>Invalid First name</span>
                     </div> 
                }
            </div>
        </div>
        <div class="last-name">
            <span>Last name </span><span class="require">*</span>
            <div class="input">
                <div>
                    <mat-form-field class="input" appearance="outline">
                        <input matInput maxlength="20" formControlName="lastName" />
                    </mat-form-field>
                </div>
                @if (form.get('lastName')?.invalid && (form.get('lastName')?.dirty || form.get('lastName')?.touched) && !form.get('firstName')?.errors?.['pattern']) {
                    <div class="require">
                        <span>This field is require</span>
                    </div> 
                }
                @if (form.get('lastName')?.errors?.['pattern']) {
                    <div class="require">
                         <span>Invalid Last name</span>
                     </div> 
                }
            </div>
        </div>
    </div>
    <div class="row2">
        <div class="gender">
            <span>Gender </span><span class="require">*</span>
            <mat-form-field>
                <mat-select formControlName="gender">
                    <mat-option value=""></mat-option>
                    <mat-option value="Male">Male</mat-option>
                    <mat-option value="Female">Female</mat-option>
                    <mat-option value="Unknown">Unknown</mat-option>
                </mat-select>
                </mat-form-field>
                @if (form.get('gender')?.invalid && (form.get('gender')?.dirty || form.get('gender')?.touched)) {
                    <div class="require">
                         <span>This field is require</span>
                     </div> 
                 }
        </div>
        <div class="date">
            <span>Date of birth </span><span class="require">*</span>
            <mat-form-field>
                <input matInput [matDatepicker]="picker" formControlName="dateOfBirth" [max]="maxDate">
                <mat-hint>MM/DD/YYYY</mat-hint>
                <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
            @if (form.get('dateOfBirth')?.invalid && (form.get('dateOfBirth')?.dirty || form.get('dateOfBirth')?.touched)) {
                <div class="require">
                     <span>This field is require</span>
                 </div> 
             }
        </div>
    </div>
    <div class="row3">
        <div class="nationality">
                <span>Nationality </span><span class="require">*</span>
                <div class="input">
                    <div>
                        <mat-form-field class="input" appearance="outline">
                            <input matInput maxlength="3" formControlName="nationality" />
                        </mat-form-field>
                    </div>
                    @if (form.get('nationality')?.invalid && (form.get('nationality')?.dirty || form.get('nationality')?.touched)) {
                       <div class="require">
                            <span>This field is require</span>
                        </div> 
                    }
                </div>
        </div>
    </div>
    <div class="row4">
        <div class="save">
            <div class="savebtn">
                <button 
                mat-raised-button 
                [disabled]="!form.valid"
                (click)="save()"
                >
                    Save
                </button>
            </div>
            <div class="cancelbtn">
                <button 
                mat-raised-button 
                (click)="Clear()"
                >
                    Clear
                </button>
            </div>
        </div>
    </div>
</div>
<div class="table">
    <app-table-result
      [responseData]="responseData"
      (onEdit)="onEdit($event)"
    ></app-table-result>
</div>
